/* esm.sh - esbuild bundle(d3-timer@3.0.1) esnext production */
var f=0,l=0,u=0,F=1e3,_,s,h=0,o=0,x=0,c=typeof performance=="object"&&performance.now?performance:Date,I=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function w(){return o||(I(q),o=c.now()+x)}function q(){o=0}function i(){this._call=this._time=this._next=null}i.prototype=y.prototype={constructor:i,restart:function(n,t,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?w():+r)+(t==null?0:+t),!this._next&&s!==this&&(s?s._next=this:_=this,s=this),this._call=n,this._time=r,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}};function y(n,t,r){var e=new i;return e.restart(n,t,r),e}function b(){w(),++f;for(var n=_,t;n;)(t=o-n._time)>=0&&n._call.call(void 0,t),n=n._next;--f}function T(){o=(h=c.now())+x,f=l=0;try{b()}finally{f=0,D(),o=0}}function A(){var n=c.now(),t=n-h;t>F&&(x-=t,h=n)}function D(){for(var n,t=_,r,e=1/0;t;)t._call?(e>t._time&&(e=t._time),n=t,t=t._next):(r=t._next,t._next=null,t=n?n._next=r:_=r);s=n,v(e)}function v(n){if(!f){l&&(l=clearTimeout(l));var t=n-o;t>24?(n<1/0&&(l=setTimeout(T,n-c.now()-x)),u&&(u=clearInterval(u))):(u||(h=c.now(),u=setInterval(A,F)),f=1,I(T))}}function N(n,t,r){var e=new i;return t=t==null?0:+t,e.restart(p=>{e.stop(),n(p+t)},t,r),e}function E(n,t,r){var e=new i,p=t;return t==null?(e.restart(n,t,r),e):(e._restart=e.restart,e.restart=function(d,m,a){m=+m,a=a==null?w():+a,e._restart(function j(k){k+=p,e._restart(j,p+=m,a),d(k)},m,a)},e.restart(n,t,r),e)}export{E as interval,w as now,N as timeout,y as timer,b as timerFlush};
//# sourceMappingURL=d3-timer.mjs.map