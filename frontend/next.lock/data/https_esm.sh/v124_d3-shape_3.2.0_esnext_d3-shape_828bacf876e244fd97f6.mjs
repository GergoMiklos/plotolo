/* esm.sh - esbuild bundle(d3-shape@3.2.0) esnext production */
function c(t){return function(){return t}}var Ct=Math.abs,N=Math.atan2,Y=Math.cos,en=Math.max,z=Math.min,E=Math.sin,x=Math.sqrt,S=1e-12,B=Math.PI,rt=B/2,M=2*B;function on(t){return t>1?0:t<-1?B:Math.acos(t)}function Mt(t){return t>=1?rt:t<=-1?-rt:Math.asin(t)}import{Path as Cn}from"/v124/d3-path@3.1.0/esnext/d3-path.mjs";function I(t){let n=3;return t.digits=function(i){if(!arguments.length)return n;if(i==null)n=null;else{let e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);n=e}return t},()=>new Cn(n)}function Mn(t){return t.innerRadius}function qn(t){return t.outerRadius}function On(t){return t.startAngle}function Xn(t){return t.endAngle}function Yn(t){return t&&t.padAngle}function Bn(t,n,i,e,s,o,a,r){var u=i-t,l=e-n,h=a-s,f=r-o,_=f*u-h*l;if(!(_*_<S))return _=(h*(n-o)-f*(t-s))/_,[t+_*u,n+_*l]}function mt(t,n,i,e,s,o,a){var r=t-i,u=n-e,l=(a?o:-o)/x(r*r+u*u),h=l*u,f=-l*r,_=t+h,m=n+f,y=i+h,v=e+f,k=(_+y)/2,d=(m+v)/2,w=y-_,b=v-m,T=w*w+b*b,A=s-o,R=_*v-y*m,H=(b<0?-1:1)*x(en(0,A*A*T-R*R)),W=(R*b-w*H)/T,$=(-R*w-b*H)/T,L=(R*b+w*H)/T,P=(-R*w+b*H)/T,C=W-k,p=$-d,g=L-k,J=P-d;return C*C+p*p>g*g+J*J&&(W=L,$=P),{cx:W,cy:$,x01:-h,y01:-f,x11:W*(s/A-1),y11:$*(s/A-1)}}function Ln(){var t=Mn,n=qn,i=c(0),e=null,s=On,o=Xn,a=Yn,r=null,u=I(l);function l(){var h,f,_=+t.apply(this,arguments),m=+n.apply(this,arguments),y=s.apply(this,arguments)-rt,v=o.apply(this,arguments)-rt,k=Ct(v-y),d=v>y;if(r||(r=h=u()),m<_&&(f=m,m=_,_=f),!(m>S))r.moveTo(0,0);else if(k>M-S)r.moveTo(m*Y(y),m*E(y)),r.arc(0,0,m,y,v,!d),_>S&&(r.moveTo(_*Y(v),_*E(v)),r.arc(0,0,_,v,y,d));else{var w=y,b=v,T=y,A=v,R=k,H=k,W=a.apply(this,arguments)/2,$=W>S&&(e?+e.apply(this,arguments):x(_*_+m*m)),L=z(Ct(m-_)/2,+i.apply(this,arguments)),P=L,C=L,p,g;if($>S){var J=Mt($/_*E(W)),ht=Mt($/m*E(W));(R-=J*2)>S?(J*=d?1:-1,T+=J,A-=J):(R=0,T=A=(y+v)/2),(H-=ht*2)>S?(ht*=d?1:-1,w+=ht,b-=ht):(H=0,w=b=(y+v)/2)}var Q=m*Y(w),U=m*E(w),ft=_*Y(A),_t=_*E(A);if(L>S){var ct=m*Y(b),pt=m*E(b),St=_*Y(T),Nt=_*E(T),F;if(k<B)if(F=Bn(Q,U,St,Nt,ct,pt,ft,_t)){var Et=Q-F[0],At=U-F[1],Rt=ct-F[0],Pt=pt-F[1],tn=1/E(on((Et*Rt+At*Pt)/(x(Et*Et+At*At)*x(Rt*Rt+Pt*Pt)))/2),nn=x(F[0]*F[0]+F[1]*F[1]);P=z(L,(_-nn)/(tn-1)),C=z(L,(m-nn)/(tn+1))}else P=C=0}H>S?C>S?(p=mt(St,Nt,Q,U,m,C,d),g=mt(ct,pt,ft,_t,m,C,d),r.moveTo(p.cx+p.x01,p.cy+p.y01),C<L?r.arc(p.cx,p.cy,C,N(p.y01,p.x01),N(g.y01,g.x01),!d):(r.arc(p.cx,p.cy,C,N(p.y01,p.x01),N(p.y11,p.x11),!d),r.arc(0,0,m,N(p.cy+p.y11,p.cx+p.x11),N(g.cy+g.y11,g.cx+g.x11),!d),r.arc(g.cx,g.cy,C,N(g.y11,g.x11),N(g.y01,g.x01),!d))):(r.moveTo(Q,U),r.arc(0,0,m,w,b,!d)):r.moveTo(Q,U),!(_>S)||!(R>S)?r.lineTo(ft,_t):P>S?(p=mt(ft,_t,ct,pt,_,-P,d),g=mt(Q,U,St,Nt,_,-P,d),r.lineTo(p.cx+p.x01,p.cy+p.y01),P<L?r.arc(p.cx,p.cy,P,N(p.y01,p.x01),N(g.y01,g.x01),!d):(r.arc(p.cx,p.cy,P,N(p.y01,p.x01),N(p.y11,p.x11),!d),r.arc(0,0,_,N(p.cy+p.y11,p.cx+p.x11),N(g.cy+g.y11,g.cx+g.x11),d),r.arc(g.cx,g.cy,P,N(g.y11,g.x11),N(g.y01,g.x01),!d))):r.arc(0,0,_,A,T,d)}if(r.closePath(),h)return r=null,h+""||null}return l.centroid=function(){var h=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,f=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-B/2;return[Y(f)*h,E(f)*h]},l.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:c(+h),l):t},l.outerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:c(+h),l):n},l.cornerRadius=function(h){return arguments.length?(i=typeof h=="function"?h:c(+h),l):i},l.padRadius=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:c(+h),l):e},l.startAngle=function(h){return arguments.length?(s=typeof h=="function"?h:c(+h),l):s},l.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:c(+h),l):o},l.padAngle=function(h){return arguments.length?(a=typeof h=="function"?h:c(+h),l):a},l.context=function(h){return arguments.length?(r=h??null,l):r},l}var rn=Array.prototype.slice;function G(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sn(t){this._context=t}sn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function K(t){return new sn(t)}function Z(t){return t[0]}function j(t){return t[1]}function st(t,n){var i=c(!0),e=null,s=K,o=null,a=I(r);t=typeof t=="function"?t:t===void 0?Z:c(t),n=typeof n=="function"?n:n===void 0?j:c(n);function r(u){var l,h=(u=G(u)).length,f,_=!1,m;for(e==null&&(o=s(m=a())),l=0;l<=h;++l)!(l<h&&i(f=u[l],l,u))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(f,l,u),+n(f,l,u));if(m)return o=null,m+""||null}return r.x=function(u){return arguments.length?(t=typeof u=="function"?u:c(+u),r):t},r.y=function(u){return arguments.length?(n=typeof u=="function"?u:c(+u),r):n},r.defined=function(u){return arguments.length?(i=typeof u=="function"?u:c(!!u),r):i},r.curve=function(u){return arguments.length?(s=u,e!=null&&(o=s(e)),r):s},r.context=function(u){return arguments.length?(u==null?e=o=null:o=s(e=u),r):e},r}function qt(t,n,i){var e=null,s=c(!0),o=null,a=K,r=null,u=I(l);t=typeof t=="function"?t:t===void 0?Z:c(+t),n=typeof n=="function"?n:n===void 0?c(0):c(+n),i=typeof i=="function"?i:i===void 0?j:c(+i);function l(f){var _,m,y,v=(f=G(f)).length,k,d=!1,w,b=new Array(v),T=new Array(v);for(o==null&&(r=a(w=u())),_=0;_<=v;++_){if(!(_<v&&s(k=f[_],_,f))===d)if(d=!d)m=_,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),y=_-1;y>=m;--y)r.point(b[y],T[y]);r.lineEnd(),r.areaEnd()}d&&(b[_]=+t(k,_,f),T[_]=+n(k,_,f),r.point(e?+e(k,_,f):b[_],i?+i(k,_,f):T[_]))}if(w)return r=null,w+""||null}function h(){return st().defined(s).curve(a).context(o)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:c(+f),e=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:c(+f),l):t},l.x1=function(f){return arguments.length?(e=f==null?null:typeof f=="function"?f:c(+f),l):e},l.y=function(f){return arguments.length?(n=typeof f=="function"?f:c(+f),i=null,l):n},l.y0=function(f){return arguments.length?(n=typeof f=="function"?f:c(+f),l):n},l.y1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:c(+f),l):i},l.lineX0=l.lineY0=function(){return h().x(t).y(n)},l.lineY1=function(){return h().x(t).y(i)},l.lineX1=function(){return h().x(e).y(n)},l.defined=function(f){return arguments.length?(s=typeof f=="function"?f:c(!!f),l):s},l.curve=function(f){return arguments.length?(a=f,o!=null&&(r=a(o)),l):a},l.context=function(f){return arguments.length?(f==null?o=r=null:r=a(o=f),l):o},l}function an(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function ln(t){return t}function zn(){var t=ln,n=an,i=null,e=c(0),s=c(M),o=c(0);function a(r){var u,l=(r=G(r)).length,h,f,_=0,m=new Array(l),y=new Array(l),v=+e.apply(this,arguments),k=Math.min(M,Math.max(-M,s.apply(this,arguments)-v)),d,w=Math.min(Math.abs(k)/l,o.apply(this,arguments)),b=w*(k<0?-1:1),T;for(u=0;u<l;++u)(T=y[m[u]=u]=+t(r[u],u,r))>0&&(_+=T);for(n!=null?m.sort(function(A,R){return n(y[A],y[R])}):i!=null&&m.sort(function(A,R){return i(r[A],r[R])}),u=0,f=_?(k-l*b)/_:0;u<l;++u,v=d)h=m[u],T=y[h],d=v+(T>0?T*f:0)+b,y[h]={data:r[h],index:u,value:T,startAngle:v,endAngle:d,padAngle:w};return y}return a.value=function(r){return arguments.length?(t=typeof r=="function"?r:c(+r),a):t},a.sortValues=function(r){return arguments.length?(n=r,i=null,a):n},a.sort=function(r){return arguments.length?(i=r,n=null,a):i},a.startAngle=function(r){return arguments.length?(e=typeof r=="function"?r:c(+r),a):e},a.endAngle=function(r){return arguments.length?(s=typeof r=="function"?r:c(+r),a):s},a.padAngle=function(r){return arguments.length?(o=typeof r=="function"?r:c(+r),a):o},a}var xt=tt(K);function un(t){this._curve=t}un.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function tt(t){function n(i){return new un(t(i))}return n._curve=t,n}function nt(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?n(tt(i)):n()._curve},t}function hn(){return nt(st().curve(xt))}function fn(){var t=qt().curve(xt),n=t.curve,i=t.lineX0,e=t.lineX1,s=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return nt(i())},delete t.lineX0,t.lineEndAngle=function(){return nt(e())},delete t.lineX1,t.lineInnerRadius=function(){return nt(s())},delete t.lineY0,t.lineOuterRadius=function(){return nt(o())},delete t.lineY1,t.curve=function(a){return arguments.length?n(tt(a)):n()._curve},t}function it(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}var dt=class{constructor(n,i){this._context=n,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,i){switch(n=+n,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,i,n,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,n,this._y0,n,i);break}}this._x0=n,this._y0=i}},Ot=class{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,i){if(n=+n,i=+i,this._point===0)this._point=1;else{let e=it(this._x0,this._y0),s=it(this._x0,this._y0=(this._y0+i)/2),o=it(n,this._y0),a=it(n,i);this._context.moveTo(...e),this._context.bezierCurveTo(...s,...o,...a)}this._x0=n,this._y0=i}};function Xt(t){return new dt(t,!0)}function Yt(t){return new dt(t,!1)}function _n(t){return new Ot(t)}function In(t){return t.source}function Dn(t){return t.target}function yt(t){let n=In,i=Dn,e=Z,s=j,o=null,a=null,r=I(u);function u(){let l,h=rn.call(arguments),f=n.apply(this,h),_=i.apply(this,h);if(o==null&&(a=t(l=r())),a.lineStart(),h[0]=f,a.point(+e.apply(this,h),+s.apply(this,h)),h[0]=_,a.point(+e.apply(this,h),+s.apply(this,h)),a.lineEnd(),l)return a=null,l+""||null}return u.source=function(l){return arguments.length?(n=l,u):n},u.target=function(l){return arguments.length?(i=l,u):i},u.x=function(l){return arguments.length?(e=typeof l=="function"?l:c(+l),u):e},u.y=function(l){return arguments.length?(s=typeof l=="function"?l:c(+l),u):s},u.context=function(l){return arguments.length?(l==null?o=a=null:a=t(o=l),u):o},u}function Vn(){return yt(Xt)}function Fn(){return yt(Yt)}function Hn(){let t=yt(_n);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Wn=x(3),Bt={draw(t,n){let i=x(n+z(n/28,.75))*.59436,e=i/2,s=e*Wn;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-s,-e),t.lineTo(s,e),t.moveTo(-s,e),t.lineTo(s,-e)}};var at={draw(t,n){let i=x(n/B);t.moveTo(i,0),t.arc(0,0,i,0,M)}};var Lt={draw(t,n){let i=x(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};var cn=x(1/3),$n=cn*2,zt={draw(t,n){let i=x(n/$n),e=i*cn;t.moveTo(0,-i),t.lineTo(e,0),t.lineTo(0,i),t.lineTo(-e,0),t.closePath()}};var It={draw(t,n){let i=x(n)*.62625;t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}};var Dt={draw(t,n){let i=x(n-z(n/7,2))*.87559;t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}};var Vt={draw(t,n){let i=x(n),e=-i/2;t.rect(e,e,i,i)}};var Ft={draw(t,n){let i=x(n)*.4431;t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}};var Gn=.8908130915292852,pn=E(B/10)/E(7*B/10),Jn=E(M/10)*pn,Kn=-Y(M/10)*pn,Ht={draw(t,n){let i=x(n*Gn),e=Jn*i,s=Kn*i;t.moveTo(0,-i),t.lineTo(e,s);for(let o=1;o<5;++o){let a=M*o/5,r=Y(a),u=E(a);t.lineTo(u*i,-r*i),t.lineTo(r*e-u*s,u*e+r*s)}t.closePath()}};var Wt=x(3),$t={draw(t,n){let i=-x(n/(Wt*3));t.moveTo(0,i*2),t.lineTo(-Wt*i,-i),t.lineTo(Wt*i,-i),t.closePath()}};var Qn=x(3),Gt={draw(t,n){let i=x(n)*.6824,e=i/2,s=i*Qn/2;t.moveTo(0,-i),t.lineTo(s,e),t.lineTo(-s,e),t.closePath()}};var q=-.5,O=x(3)/2,Jt=1/x(12),Un=(Jt/2+1)*3,Kt={draw(t,n){let i=x(n/Un),e=i/2,s=i*Jt,o=e,a=i*Jt+i,r=-o,u=a;t.moveTo(e,s),t.lineTo(o,a),t.lineTo(r,u),t.lineTo(q*e-O*s,O*e+q*s),t.lineTo(q*o-O*a,O*o+q*a),t.lineTo(q*r-O*u,O*r+q*u),t.lineTo(q*e+O*s,q*s-O*e),t.lineTo(q*o+O*a,q*a-O*o),t.lineTo(q*r+O*u,q*u-O*r),t.closePath()}};var gt={draw(t,n){let i=x(n-z(n/6,1.7))*.6189;t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}};var mn=[at,Lt,zt,Vt,Ht,$t,Kt],Zn=[at,Dt,gt,Gt,Bt,Ft,It];function xn(t,n){let i=null,e=I(s);t=typeof t=="function"?t:c(t||at),n=typeof n=="function"?n:c(n===void 0?64:+n);function s(){let o;if(i||(i=o=e()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),o)return i=null,o+""||null}return s.type=function(o){return arguments.length?(t=typeof o=="function"?o:c(o),s):t},s.size=function(o){return arguments.length?(n=typeof o=="function"?o:c(+o),s):n},s.context=function(o){return arguments.length?(i=o??null,s):i},s}function X(){}function et(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function lt(t){this._context=t}lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:et(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:et(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function jn(t){return new lt(t)}function dn(t){this._context=t}dn.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:et(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function ti(t){return new dn(t)}function yn(t){this._context=t}yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,e=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 3:this._point=4;default:et(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function ni(t){return new yn(t)}function gn(t,n){this._basis=new lt(t),this._beta=n}gn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var e=t[0],s=n[0],o=t[i]-e,a=n[i]-s,r=-1,u;++r<=i;)u=r/i,this._basis.point(this._beta*t[r]+(1-this._beta)*(e+u*o),this._beta*n[r]+(1-this._beta)*(s+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var ii=function t(n){function i(e){return n===1?new lt(e):new gn(e,n)}return i.beta=function(e){return t(+e)},i}(.85);function ot(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function vt(t,n){this._context=t,this._k=(1-n)/6}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ot(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ei=function t(n){function i(e){return new vt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function Tt(t,n){this._context=t,this._k=(1-n)/6}Tt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var oi=function t(n){function i(e){return new Tt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function bt(t,n){this._context=t,this._k=(1-n)/6}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ri=function t(n){function i(e){return new bt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function ut(t,n,i){var e=t._x1,s=t._y1,o=t._x2,a=t._y2;if(t._l01_a>S){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,s=(s*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>S){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-n*t._l12_2a)/h,a=(a*l+t._y1*t._l23_2a-i*t._l12_2a)/h}t._context.bezierCurveTo(e,s,o,a,t._x2,t._y2)}function vn(t,n){this._context=t,this._alpha=n}vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:ut(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var si=function t(n){function i(e){return n?new vn(e,n):new vt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Tn(t,n){this._context=t,this._alpha=n}Tn.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ut(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ai=function t(n){function i(e){return n?new Tn(e,n):new Tt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function bn(t,n){this._context=t,this._alpha=n}bn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ut(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var li=function t(n){function i(e){return n?new bn(e,n):new bt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function kn(t){this._context=t}kn.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function ui(t){return new kn(t)}function wn(t){return t<0?-1:1}function Sn(t,n,i){var e=t._x1-t._x0,s=n-t._x1,o=(t._y1-t._y0)/(e||s<0&&-0),a=(i-t._y1)/(s||e<0&&-0),r=(o*s+a*e)/(e+s);return(wn(o)+wn(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(r))||0}function Nn(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function Qt(t,n,i){var e=t._x0,s=t._y0,o=t._x1,a=t._y1,r=(o-e)/3;t._context.bezierCurveTo(e+r,s+r*n,o-r,a-r*i,o,a)}function kt(t){this._context=t}kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qt(this,this._t0,Nn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Qt(this,Nn(this,i=Sn(this,t,n)),i);break;default:Qt(this,this._t0,i=Sn(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function En(t){this._context=new An(t)}(En.prototype=Object.create(kt.prototype)).point=function(t,n){kt.prototype.point.call(this,n,t)};function An(t){this._context=t}An.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,e,s,o){this._context.bezierCurveTo(n,t,e,i,o,s)}};function hi(t){return new kt(t)}function fi(t){return new En(t)}function Pn(t){this._context=t}Pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var e=Rn(t),s=Rn(n),o=0,a=1;a<i;++o,++a)this._context.bezierCurveTo(e[0][o],s[0][o],e[1][o],s[1][o],t[a],n[a]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Rn(t){var n,i=t.length-1,e,s=new Array(i),o=new Array(i),a=new Array(i);for(s[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<i-1;++n)s[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(s[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=s[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(s[i-1]=a[i-1]/o[i-1],n=i-2;n>=0;--n)s[n]=(a[n]-s[n+1])/o[n];for(o[i-1]=(t[i]+s[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-s[n+1];return[s,o]}function _i(t){return new Pn(t)}function wt(t,n){this._context=t,this._t=n}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function ci(t){return new wt(t,.5)}function pi(t){return new wt(t,0)}function mi(t){return new wt(t,1)}function D(t,n){if((a=t.length)>1)for(var i=1,e,s,o=t[n[0]],a,r=o.length;i<a;++i)for(s=o,o=t[n[i]],e=0;e<r;++e)o[e][1]+=o[e][0]=isNaN(s[e][1])?s[e][0]:s[e][1]}function V(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function xi(t,n){return t[n]}function di(t){let n=[];return n.key=t,n}function yi(){var t=c([]),n=V,i=D,e=xi;function s(o){var a=Array.from(t.apply(this,arguments),di),r,u=a.length,l=-1,h;for(let f of o)for(r=0,++l;r<u;++r)(a[r][l]=[0,+e(f,a[r].key,l,o)]).data=f;for(r=0,h=G(n(a));r<u;++r)a[h[r]].index=r;return i(a,h),a}return s.keys=function(o){return arguments.length?(t=typeof o=="function"?o:c(Array.from(o)),s):t},s.value=function(o){return arguments.length?(e=typeof o=="function"?o:c(+o),s):e},s.order=function(o){return arguments.length?(n=o==null?V:typeof o=="function"?o:c(Array.from(o)),s):n},s.offset=function(o){return arguments.length?(i=o??D,s):i},s}function gi(t,n){if((e=t.length)>0){for(var i,e,s=0,o=t[0].length,a;s<o;++s){for(a=i=0;i<e;++i)a+=t[i][s][1]||0;if(a)for(i=0;i<e;++i)t[i][s][1]/=a}D(t,n)}}function vi(t,n){if((u=t.length)>0)for(var i,e=0,s,o,a,r,u,l=t[n[0]].length;e<l;++e)for(a=r=0,i=0;i<u;++i)(o=(s=t[n[i]][e])[1]-s[0])>0?(s[0]=a,s[1]=a+=o):o<0?(s[1]=r,s[0]=r+=o):(s[0]=0,s[1]=o)}function Ti(t,n){if((s=t.length)>0){for(var i=0,e=t[n[0]],s,o=e.length;i<o;++i){for(var a=0,r=0;a<s;++a)r+=t[a][i][1]||0;e[i][1]+=e[i][0]=-r/2}D(t,n)}}function bi(t,n){if(!(!((a=t.length)>0)||!((o=(s=t[n[0]]).length)>0))){for(var i=0,e=1,s,o,a;e<o;++e){for(var r=0,u=0,l=0;r<a;++r){for(var h=t[n[r]],f=h[e][1]||0,_=h[e-1][1]||0,m=(f-_)/2,y=0;y<r;++y){var v=t[n[y]],k=v[e][1]||0,d=v[e-1][1]||0;m+=k-d}u+=f,l+=m*f}s[e-1][1]+=s[e-1][0]=i,u&&(i-=l/u)}s[e-1][1]+=s[e-1][0]=i,D(t,n)}}function Ut(t){var n=t.map(ki);return V(t).sort(function(i,e){return n[i]-n[e]})}function ki(t){for(var n=-1,i=0,e=t.length,s,o=-1/0;++n<e;)(s=+t[n][1])>o&&(o=s,i=n);return i}function Zt(t){var n=t.map(jt);return V(t).sort(function(i,e){return n[i]-n[e]})}function jt(t){for(var n=0,i=-1,e=t.length,s;++i<e;)(s=+t[i][1])&&(n+=s);return n}function wi(t){return Zt(t).reverse()}function Si(t){var n=t.length,i,e,s=t.map(jt),o=Ut(t),a=0,r=0,u=[],l=[];for(i=0;i<n;++i)e=o[i],a<r?(a+=s[e],u.push(e)):(r+=s[e],l.push(e));return l.reverse().concat(u)}function Ni(t){return V(t).reverse()}export{Ln as arc,qt as area,fn as areaRadial,jn as curveBasis,ti as curveBasisClosed,ni as curveBasisOpen,Xt as curveBumpX,Yt as curveBumpY,ii as curveBundle,ei as curveCardinal,oi as curveCardinalClosed,ri as curveCardinalOpen,si as curveCatmullRom,ai as curveCatmullRomClosed,li as curveCatmullRomOpen,K as curveLinear,ui as curveLinearClosed,hi as curveMonotoneX,fi as curveMonotoneY,_i as curveNatural,ci as curveStep,mi as curveStepAfter,pi as curveStepBefore,st as line,hn as lineRadial,yt as link,Vn as linkHorizontal,Hn as linkRadial,Fn as linkVertical,zn as pie,it as pointRadial,fn as radialArea,hn as radialLine,yi as stack,vi as stackOffsetDiverging,gi as stackOffsetExpand,D as stackOffsetNone,Ti as stackOffsetSilhouette,bi as stackOffsetWiggle,Ut as stackOrderAppearance,Zt as stackOrderAscending,wi as stackOrderDescending,Si as stackOrderInsideOut,V as stackOrderNone,Ni as stackOrderReverse,xn as symbol,Bt as symbolAsterisk,at as symbolCircle,Lt as symbolCross,zt as symbolDiamond,It as symbolDiamond2,Dt as symbolPlus,Vt as symbolSquare,Ft as symbolSquare2,Ht as symbolStar,gt as symbolTimes,$t as symbolTriangle,Gt as symbolTriangle2,Kt as symbolWye,gt as symbolX,mn as symbols,mn as symbolsFill,Zn as symbolsStroke};
//# sourceMappingURL=d3-shape.mjs.map